一、配置文件结构

nginx服务器配置文件存在安装目录conf中，主配置文件为nginx.conf

结构：

- 全局块

​        默认配置文件从开始到events块之间的一部分内容，主要设置一些影响nginx服务器整体运行的配置指令，这些指令作用域是nginx服务器全局

​        通常包括配置运行Nginx服务器的用户（组）,允许生成的worker process数，nginx进程PID存放路径，日志的存放路径和类型以及配置文件的引入

- events块

​          events块涉及的指令主要影响Nginx服务器与用户的网络连接，常用到的设置包括是否开启对多worker process下的网络连接进行序列化，选取哪种事件驱动模型处理连接请求，每个worker process可以同时支持的最大连接数等

- http块

  配置代理、缓存和日志等绝大多数的功能和第三方模块的配置

  - http全局块	配置文件引入、MIMI-Type定义、日志自定义、是否使用sendfile传输文件，连接超时时间，单连接请求数上限

  - server块

    提供虚拟主机服务，使得Nginx服务器可以在同一台服务器上只运行一组Ninx进程，就可以运行多个网站，一个http块中可以有多个server块

    - server全局块

    - location块

      基于Nginx服务器接收到的请求字符串，对除虚拟机主机名称之外的字符串进行匹配，对特定的请求尽心处理，地址重定向、数据缓存和应答控制等功能都是在这部分实现。许多第三方模块的配置也是在location块中提供功能



二、配置文件详解

1. 配置运行Nginx服务器用户（组）
2. 配置允许生成的worker process数
3. 配置nginx进程PID存放路径
4. 配置错误日志的存放路径
5. 配置文件的引入
6. 设置网络连接的序列化
7. 设置是否允许同时接收多个网络连接
8. 事件驱动模型的选择
9. 配置最大连接数
10. 定义MIMI-Type
11. 自定义服务日志
12. 配置允许sendfile方式传输文件
13. 配置连接超时时间
14. 单连接请求数上限
15. 配置网络监听
16. 基于名称的虚拟主机配置
17. 基于IP的虚拟主机配置
18. 配置location块
19. 配置请求的根目录
20. 更改的URI
21. 设置网站的默认首页
22. 设置网站的错误页面
23. 基于IP配置Nginx的访问权限
24. 基于密码配置Nginx的访问权限
25. Nginx服务器基础配置实例



三、优化